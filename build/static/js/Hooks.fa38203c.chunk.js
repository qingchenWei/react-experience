"use strict";(self.webpackChunkreact_demo=self.webpackChunkreact_demo||[]).push([[771],{9017:function(e,n,r){r.r(n);r(1565);var t=r(7031),c=(r(2845),r(7309)),s=r(9439),i=(r(4274),r(141)),u=r(2791),o=r(3329),l=i.Z.TabPane,d=(0,u.createContext)(null),a=function(){var e=(0,u.useState)(0),n=(0,s.Z)(e,2),r=n[0],t=n[1];return(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"useState"}),(0,o.jsx)("div",{children:"useState\u662freact\u81ea\u5e26\u7684\u4e00\u4e2ahook\u51fd\u6570\uff0c\u5b83\u7684\u4f5c\u7528\u5c31\u662f\u7528\u6765\u58f0\u660e\u72b6\u6001\u53d8\u91cf\u3002useState\u8fd9\u4e2a\u51fd\u6570\u63a5\u6536\u7684\u53c2\u6570\u662f\u6211\u4eec\u7684\u72b6\u6001\u521d\u59cb\u503c\uff08initial state\uff09\uff0c\u5b83\u8fd4\u56de\u4e86\u4e00\u4e2a\u6570\u7ec4\uff0c\u8fd9\u4e2a\u6570\u7ec4\u7684\u7b2c[0]\u9879\u662f\u5f53\u524d\u5f53\u524d\u7684\u72b6\u6001\u503c\uff0c\u7b2c[1]\u9879\u662f\u53ef\u4ee5\u6539\u53d8\u72b6\u6001\u503c\u7684\u65b9\u6cd5\u51fd\u6570"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,o.jsx)(c.Z,{type:"primary",onClick:function(){t(r-1)},children:"-"}),(0,o.jsx)("p",{style:{fontSize:"50px",margin:"0 20px"},children:r}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){t(r+1)},children:"+"})]})]})},f=function(){var e=(0,u.useState)(0),n=(0,s.Z)(e,2),r=n[0],t=n[1],i=(0,u.useState)(0),l=(0,s.Z)(i,2),d=l[0],a=l[1];return(0,u.useEffect)((function(){return console.log("\u7ec4\u4ef6\u6302\u8f7d\u5b8c\u4e4b\u540e\u6267\u884c,"),function(){}}),[]),(0,u.useEffect)((function(){return console.log("\u7ec4\u4ef6\u7684\u4efb\u4f55\u66f4\u65b0\u89e6\u53d1,"),function(){}})),(0,u.useEffect)((function(){return console.log("count\u66f4\u65b0\u89e6\u53d1,"),function(){}}),[r]),(0,u.useEffect)((function(){return console.log("count\u548cconut1\u66f4\u65b0\u89e6\u53d1",r),function(){}}),[r,d]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:r}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return t(r+1)},children:"+"}),(0,o.jsx)("h3",{children:d}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return a(d+1)},children:"+"}),(0,o.jsx)("h3",{children:"useEffect"}),(0,o.jsx)("p",{children:"\u526f\u4f5c\u7528\u94a9\u5b50\uff1a\u7528\u4e8e\u5904\u7406\u7ec4\u4ef6\u4e2d\u7684\u526f\u4f5c\u7528\uff0c\u7528\u6765\u53d6\u4ee3\u751f\u547d\u5468\u671f\u51fd\u6570"}),(0,o.jsxs)("p",{children:["\u4ec0\u4e48\u662f\u526f\u4f5c\u7528\uff1f",(0,o.jsx)("br",{})," \u526f\u4f5c\u7528 ( side effect ): \u6570\u636e\u83b7\u53d6\uff0c\u6570\u636e\u8ba2\u9605\uff0c\u4ee5\u53ca\u624b\u52a8\u66f4\u6539 React \u7ec4\u4ef6\u4e2d\u7684 DOM \u90fd\u5c5e\u4e8e\u526f\u4f5c\u7528 \u56e0\u4e3a\u6211\u4eec\u6e32\u67d3\u51fa\u7684\u9875\u9762\u90fd\u662f\u9759\u6001\u7684\uff0c\u4efb\u4f55\u5728\u5176\u4e4b\u540e\u7684\u64cd\u4f5c\u90fd\u4f1a\u5bf9\u4ed6\u4ea7\u751f\u5f71\u54cd\uff0c\u6240\u4ee5\u79f0\u4e4b\u4e3a\u526f\u4f5c\u7528"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{children:"\u4f9d\u8d56\u53c2\u6570\u4e0d\u540c\u65f6\u6709\u4e0d\u540c\u7684\u6548\u679c\uff1a"}),(0,o.jsx)("br",{}),"\u4e3a\u7a7a\uff1a \u7ec4\u4ef6\u7684\u4efb\u4f55\u66f4\u65b0\uff0c\u8be5useEffect \u5bf9\u5e94\u7684\u8fd4\u56de\u51fd\u6570\u548c\u51fd\u6570\u90fd\u6267\u884c",(0,o.jsx)("br",{}),"\u4e3a\u7a7a\u6570\u7ec4: \u4e0d\u76d1\u542c\u7ec4\u4ef6\u7684\u66f4\u65b0",(0,o.jsx)("br",{}),"\u6570\u7ec4\u4e2d\u6709\u5177\u4f53\u4f9d\u8d56\uff1a\u5bf9\u5e94\u7684\u4f9d\u8d56\u6570\u636e\uff0c\u6709\u53d8\u5316\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u6267\u884c"]})]})},h=function(){var e=(0,u.useState)(100),n=(0,s.Z)(e,2),r=n[0],t=n[1],i=(0,u.useState)(100),l=(0,s.Z)(i,2),d=l[0],a=l[1];return(0,u.useEffect)((function(){console.log(r,"1"),1e5===r&&t(1)}),[r]),(0,u.useLayoutEffect)((function(){console.log(d,"2"),1e5===d&&a(1)}),[d]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"useLayoutEffect"}),(0,o.jsxs)("p",{children:["1.useEffect\u4f1a\u5728\u6e32\u67d3\u7684\u5185\u5bb9\u66f4\u65b0\u5230DOM\u4e0a\u540e\u6267\u884c,\u4e0d\u4f1a\u963b\u585eDOM\u7684\u66f4\u65b0",(0,o.jsx)("br",{}),"2.useLayoutEffect\u4f1a\u5728\u6e32\u67d3\u7684\u5185\u5bb9\u66f4\u65b0\u5230DOM\u4e0a\u4e4b\u524d\u8fdb\u884c,\u4f1a\u963b\u585eDOM\u7684\u66f4\u65b0(\u4e00\u822c\u4e0d\u600e\u4e48\u7528)"]}),(0,o.jsx)("h5",{children:"\u533a\u522b:"}),(0,o.jsx)("h2",{children:r}),(0,o.jsx)("div",{children:"useEffect\u4f7f\u7528"}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return t(1e5)},children:"\u53d8\u66f4"}),(0,o.jsx)("h2",{children:d}),(0,o.jsx)("div",{children:"useLayoutEffect\u4f7f\u7528"}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return a(1e5)},children:"\u53d8\u66f4"})]})},x=function(){var e=(0,u.useReducer)((function(e,n){var r=n.payload;switch(n.name){case"add":return e+1;case"sub":return e-1;case"reset":return r;default:return e}}),0),n=(0,s.Z)(e,2),r=n[0],t=n[1],i=function(e){var n=(0,u.useContext)(d),r=n.dispatch,t=n.number;return(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{children:["\u6765\u81ea\u7236\u7ec4\u4ef6(prpos):",e.number]}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return r({name:"sub"})},children:"-"}),(0,o.jsx)("hr",{}),(0,o.jsxs)("h3",{children:["\u6765\u81ea\u7236\u7ec4\u4ef6(useContext):",t]}),(0,o.jsxs)("p",{children:["\u4f7f\u7528:","const {(dispatch, number)} = useContext(ReducerContext)"]}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return r({name:"reset",payload:666})},children:"reset"})]})},l=function(){return(0,o.jsx)(d.Consumer,{children:function(e){return(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{children:["\u6765\u81ea\u7236\u7ec4\u4ef6(useContext):",e.number]}),(0,o.jsxs)("p",{children:["\u4f7f\u7528:","<ReducerContext.Consumer></ReducerContext.Consumer>","\u5305\u88f9"]}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return e.dispatch({name:"add"})},children:"+"})]})}})};return(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"useReducer"}),(0,o.jsx)("p",{children:"useReducer \u662f react-hooks \u63d0\u4f9b\u7684\u80fd\u591f\u5728\u65e0\u72b6\u6001\u7ec4\u4ef6\u4e2d\u8fd0\u884c\u7684\u7c7b\u4f3credux\u7684\u529f\u80fd api \u3002"}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return t({name:"add"})},children:"\u589e\u52a0"}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return t({name:"sub"})},children:"\u51cf\u5c11"}),(0,o.jsx)(c.Z,{type:"primary",onClick:function(){return t({name:"reset",payload:666})},children:"\u8d4b\u503c"}),(0,o.jsx)("div",{children:r}),(0,o.jsxs)(d.Provider,{value:{dispatch:t,number:r},children:[(0,o.jsx)(i,{number:r,dispatch:t}),(0,o.jsx)("hr",{}),(0,o.jsx)(l,{})]})]})},j=function(){var e=(0,u.useState)(0),n=(0,s.Z)(e,2),r=n[0],i=n[1],l=(0,u.useRef)(0),d=(0,u.useRef)(null),a=(0,u.createRef)();return(0,u.useEffect)((function(){var e;console.log(d,"myRef"),null===d||void 0===d||null===(e=d.current)||void 0===e||e.focus(),l.current=r,a.current=r,console.log(l)})),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"\u4ee5\u4e0b\u5206\u522b\u4ecb\u7ecd useRef \u7684\u4e24\u4e2a\u4f7f\u7528\u573a\u666f\uff1a"}),(0,o.jsx)("h5",{children:"1\u3001\u6307\u5411 dom \u5143\u7d20"}),(0,o.jsx)(t.Z,{ref:d,type:"text"}),(0,o.jsx)("div",{children:"2\u3001\u5b58\u653e\u53d8\u91cf"}),(0,o.jsx)("p",{children:"useRef \u5728 react hook \u4e2d\u7684\u4f5c\u7528, \u6b63\u5982\u5b98\u7f51\u8bf4\u7684, \u5b83\u50cf\u4e00\u4e2a\u53d8\u91cf, \u7c7b\u4f3c\u4e8e this , \u5b83\u5c31\u50cf\u4e00\u4e2a\u76d2\u5b50, \u4f60\u53ef\u4ee5\u5b58\u653e\u4efb\u4f55\u4e1c\u897f. createRef \u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5f15\u7528\uff0c\u800c useRef \u6bcf\u6b21\u90fd\u4f1a\u8fd4\u56de\u76f8\u540c\u7684\u5f15\u7528"}),(0,o.jsxs)("div",{children:[(0,o.jsx)(c.Z,{onClick:function(){return i(r+1)},children:"\u70b9\u51fbcount"}),(0,o.jsx)(c.Z,{onClick:function(){setTimeout((function(){console.log(r),console.log(l.current)}),3e3)},children:"\u67e5\u770b"})]})]})};n.default=function(){var e=[{name:"useState",component:a},{name:"useEffect",component:f},{name:"useLayoutEffect",component:h},{name:"useReducer-useContext",component:x},{name:"useRef",component:j}];return(0,o.jsx)(i.Z,{defaultActiveKey:"useState",onChange:function(e){console.log(e)},children:e.map((function(e){return(0,o.jsx)(l,{tab:e.name,children:(0,o.jsx)(e.component,{})},e.name)}))})}}}]);
//# sourceMappingURL=Hooks.fa38203c.chunk.js.map