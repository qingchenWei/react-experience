"use strict";(self.webpackChunkreact_demo=self.webpackChunkreact_demo||[]).push([[156],{8230:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});t(1040);var s=t(3718),r=(t(8071),t(6106)),a=(t(8717),t(914)),i=(t(1565),t(7031)),l=(t(6950),t(3099)),c=(t(2845),t(7309)),d=(t(1475),t(5581)),o=t(1413),u=t(4165),x=(t(7204),t(3695)),h=t(5861),m=(t(4835),t(1095)),p=t(9439),Z=(t(7606),t(478)),f=(t(2089),t(7123)),j=t(2791),g=t(5796),y=t(6871),k=t(5671),b=t(3144),v=t(9340),w=t(1129),C=(t(9560),t(6435)),I=t(3329),T=C.Z.Option,F=function(e){(0,v.Z)(t,e);var n=(0,w.Z)(t);function t(e){var s;return(0,k.Z)(this,t),(s=n.call(this,e)).refForm=j.createRef(null),s.hideModal=function(){s.props.setVisible(!1)},s}return(0,b.Z)(t,[{key:"buttonClick",value:function(){this.refForm.current.validateFields().then((function(e){})).catch((function(e){console.log(e),x.ZP.error("\u8bf7\u68c0\u67e5\u4fe1\u606f\u662f\u5426\u5b8c\u6574!")}))}},{key:"render",value:function(){var e=this;return(0,I.jsx)(Z.Z,{title:"\u4fee\u6539\u7528\u6237\u4fe1\u606f",visible:this.props.visible,onCancel:this.hideModal,cancelText:"\u53d6\u6d88",footer:[(0,I.jsx)(c.Z,{onClick:function(){return e.buttonClick()},children:"\u786e\u8ba4"},"1")],children:(0,I.jsx)(m.Z,{ref:this.refForm,name:"basic",initialValues:this.props.updataRow,autoComplete:"off",children:(0,I.jsxs)(r.Z,{gutter:24,children:[(0,I.jsx)(a.Z,{span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u59d3\u540d",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u79f0!"}],children:(0,I.jsx)(i.Z,{})})}),(0,I.jsx)(a.Z,{span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u5e74\u9f84",name:"age",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u5e74\u9f84!"}],children:(0,I.jsx)(i.Z,{})})}),(0,I.jsx)(a.Z,{span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u5730\u5740",name:"address",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u5e74\u9f84!"}],children:(0,I.jsx)(i.Z,{})})}),(0,I.jsx)(a.Z,{span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u6807\u7b7e",name:"tags",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4f60\u7684\u6807\u7b7e!"}],children:(0,I.jsx)(C.Z,{mode:"tags",allowClear:!0,style:{width:"100%"},children:["nice","good"].map((function(e){return(0,I.jsx)(T,{value:e},e)}))})})})]})})})}}]),t}(j.PureComponent),Y=t(8845),M=function(e){return(0,Y.Z)({url:"/user/getUserList",method:"post",data:e})},V=function(e){return(0,Y.Z)({url:"/user/deleteUser",method:"post",data:e})},D=t(2426),P=t.n(D),q=f.Z.RangePicker,R=Z.Z.confirm,S=function(){var e=m.Z.useForm(),n=(0,p.Z)(e,1)[0],t=(0,y.s0)(),Z=(0,j.useState)(null),f=(0,p.Z)(Z,2),k=f[0],b=f[1],v=(0,j.useState)(!1),w=(0,p.Z)(v,2),C=w[0],T=w[1],Y=(0,j.useState)(null),D=(0,p.Z)(Y,2),S=D[0],z=D[1];function E(e){return O.apply(this,arguments)}function O(){return(O=(0,h.Z)((0,u.Z)().mark((function e(n){var t,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(n);case 2:t=e.sent,s=t.data,b(s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,j.useEffect)((function(){n.setFieldsValue({account:"",name:"",tel:"",status:!1,loginTime:[],creatTime:[]}),E(n.getFieldsValue())}),[]);var U=[{title:"\u5e8f\u53f7",dataIndex:"index",width:"70px",render:function(e,n){return(0,I.jsx)("a",{onClick:function(){return function(e){t("/system/userDetail?name=".concat(e.name),{state:{age:e.age,address:e.address,tags:e.tags}})}(n)},children:e},n.id)},fixed:"left"},{width:"100px",title:"\u8d26\u53f7",dataIndex:"account"},{width:"130px",title:"\u59d3\u540d",dataIndex:"name"},{width:"100px",title:"\u72b6\u6001",dataIndex:"stauts",render:function(e,n){return(0,I.jsx)(d.Z,{checked:n.status},n.id)}},{width:"210px",title:"\u767b\u9646\u65f6\u95f4",dataIndex:"loginTime"},{width:"210px",title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"creatTime"},{title:"\u64cd\u4f5c",key:"action",fixed:"right",width:"170px",render:function(e,n){return(0,I.jsxs)(l.Z,{size:"middle",children:[(0,I.jsx)(c.Z,{type:"primary",onClick:function(){T(!0),z(n)},children:"\u4fee\u6539"}),(0,I.jsx)(c.Z,{type:"primary",danger:!0,ghost:!0,onClick:function(){return e=n.id,void R({title:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8be5\u7528\u6237\u4fe1\u606f\u5417?",icon:(0,I.jsx)(g.Z,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){return(0,h.Z)((0,u.Z)().mark((function n(){var t;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V({id:e});case 2:t=n.sent,x.ZP.success(t.message),b(t.data);case 5:case"end":return n.stop()}}),n)})))()},onCancel:function(){console.log("Cancel")}});var e},children:"\u5220\u9664"})]},n.id)}}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("h4",{children:"\u641c\u7d22\u6761\u4ef6"}),(0,I.jsxs)(m.Z,{layout:"horizontal",labelCol:{span:6},form:n,onFinish:function(e){["loginTime","creatTime"].forEach((function(n){e[n].length>=1&&(e=(0,o.Z)((0,o.Z)({},e),{},{time:[P()(e.time[0]).format("YYYY-MM-DD"),P()(e.time[1]).format("YYYY-MM-DD")]}))})),console.log("values===",e),E(e)},children:[(0,I.jsxs)(r.Z,{gutter:24,children:[(0,I.jsx)(a.Z,{lg:{span:12},xl:{span:8},span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u8d26\u53f7",name:"account",children:(0,I.jsx)(i.Z,{})})}),(0,I.jsx)(a.Z,{lg:{span:12},xl:{span:8},span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u59d3\u540d",name:"name",children:(0,I.jsx)(i.Z,{})})}),(0,I.jsx)(a.Z,{lg:{span:12},xl:{span:8},span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u624b\u673a\u53f7\u7801",name:"tel",children:(0,I.jsx)(i.Z,{})})}),(0,I.jsx)(a.Z,{lg:{span:12},xl:{span:8},span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u767b\u5f55\u65f6\u95f4",name:"loginTime",children:(0,I.jsx)(q,{style:{width:"100%"}})})}),(0,I.jsx)(a.Z,{lg:{span:12},xl:{span:8},span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u521b\u5efa\u65f6\u95f4",name:"creatTime",children:(0,I.jsx)(q,{style:{width:"100%"}})})}),(0,I.jsx)(a.Z,{lg:{span:12},xl:{span:8},span:12,children:(0,I.jsx)(m.Z.Item,{label:"\u8d26\u53f7\u72b6\u6001",valuePropName:"checked",name:"status",children:(0,I.jsx)(d.Z,{})})})]}),(0,I.jsx)(r.Z,{justify:"center",children:(0,I.jsxs)(a.Z,{span:5,style:{display:"flex",justifyContent:"space-around"},children:[(0,I.jsx)(c.Z,{type:"primary",onClick:function(){return n.submit()},children:"\u63d0\u4ea4"}),(0,I.jsx)(c.Z,{type:"ghost",onClick:function(){n.resetFields(),n.setFieldsValue({name:"",age:"",address:"",sex:"",time:[]})},children:"\u91cd\u7f6e"})]})})]}),(0,I.jsx)("h4",{children:"\u6570\u636e\u5217\u8868"}),(0,I.jsx)(s.Z,{columns:U,dataSource:k||[],scroll:{x:900,y:300},rowKey:function(e){return e.id}}),S?(0,I.jsx)(F,{updataRow:S,visible:C,setVisible:T}):""]})}}}]);
//# sourceMappingURL=UserManage.56f664ff.chunk.js.map